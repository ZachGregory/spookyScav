{% extends "base_manage_subpage.html" %}
{% load static %}
{% block page_title %}
    Facil Shift Attendance
{% endblock page_title %}
{% block top_title %}
    Facil Shift Attendance
{% endblock top_title %}
{% block active %}
    <h1 style="color: black; font-size: 30px;">Shift: {{ shift.name }}</h1>
    <div class="text-white p-6 bg-background rounded-lg shadow m-5 inline-block">
    <table>
        <tr>
            <th class="px-2">First Name</th>
            <th class="px-2">Last Name</th>
            <th class="px-2">Present</th>
            <th class="px-2">Check In</th>
        </tr>
        {% for signup in signups %}
            <tr>
                <td class="px-2">{{ signup.user.first_name }}</td>
                <td class="px-2">{{ signup.user.last_name }}</td>
                <td class="px-2">{{ signup.attendance }}</td>
                <td class="px-2">
                    <form method="POST">
                        {% csrf_token %}
                        <input type="hidden" name="signup" value="{{ signup.id }}">
                        <input type="hidden" name="switch" value="{{ signup.attendance }}">
                        {% if signup.attendance %}
                            <input style="background-color: green;" type="submit" value="Mark Absent">
                        {% else %}
                            <input style="background-color: red;" type="submit" value="Mark Present">
                        {% endif %}
                    </form>
                </td>
            </tr>
        {% endfor %}
    </table>
    </div>
{% endblock active %}
